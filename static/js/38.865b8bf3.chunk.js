(this["webpackJsonptogedoor-frontend"]=this["webpackJsonptogedoor-frontend"]||[]).push([[38],{470:function(e,t,a){"use strict";var c=a(12),r=a(0),s=a(442),o=a(452),n=a(476),l=a(151),i=a(453),j=a(19),b=a(160),d=a(685),m=a(656),x=a(441),h=a(657),p=a(658),O=a(8),u=a(1),g=function(e){var t=e.modal,a=e.toggle,c=e.children,r=e.to,s=e.title;return Object(u.jsxs)(d.a,{isOpen:t,toggle:a,className:"mt-13",children:[Object(u.jsxs)(m.a,{tag:"h6",toggle:a,className:"border-0",children:[Object(u.jsx)(j.a,{className:"text-primary mr-1",icon:b.c}),Object(u.jsx)("span",{className:"  text-dark",children:s})]}),Object(u.jsxs)(x.a,{children:[c&&Object(u.jsx)(h.a,{children:c}),Object(u.jsxs)(p.a,{className:"border-0 justify-content-start",children:[Object(u.jsx)(l.a,{color:"primary",onClick:a,children:"Save Updates"})," ",Object(u.jsx)(O.b,{to:r||"#",className:"text-primary",onClick:a,children:"cancel"})," "]})]})]})},f=a(245),y=a(248),v=a(244),N=a(159),w=function(e){var t=function(t){t.persist(),e.setUserBasicInfo(t.target.value,t.target.name)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampetext",sm:3,children:"First name :"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"text",name:"firstName",id:"exampleEmail",placeholder:"Please insert your first name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampetext",sm:3,children:"Last name :"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"text",name:"lastName",id:"exampleEmail",placeholder:"Please insert your last name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampetext",sm:3,children:"Job title :"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"text",name:"jobTitle",id:"exampleEmail",placeholder:"Please insert your job title",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Location :"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"text",name:"location",id:"exampleEmail",onChange:t,placeholder:"Please insert your location",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})]})},S=function(e){console.log(e);return Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampleText",sm:3,children:"Write Yourself:"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"textarea",name:"aboutMe",id:"exampleText",placeholder:"Write YourSelf",className:"border-top-0 border-left-0 border-right-0 boder-bottom",onChange:function(t){t.persist(),e.setUserAboutMe(t.target.value,t.target.name)}})})]})},C=function(){return Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Video Link :"}),Object(u.jsx)(v.a,{sm:9,children:Object(u.jsx)(N.a,{type:"text",name:"videolink",id:"exampleEmail",placeholder:"Youtube Url Or Browse Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})},k=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 01:"}),Object(u.jsxs)(v.a,{sm:9,children:[Object(u.jsx)(N.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(u.jsx)(N.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(u.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(u.jsx)(N.a,{type:"file",name:"file",id:"exampleFile"})]})]}),Object(u.jsxs)(f.a,{row:!0,children:[Object(u.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 02:"}),Object(u.jsxs)(v.a,{sm:9,children:[Object(u.jsx)(N.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(u.jsx)(N.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(u.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(u.jsx)(N.a,{type:"file",name:"file",id:"exampleFile"})]})]})]})};t.a=function(e){var t=e.title,a=e.action,d=e.children,m=e.className,x=e.modalName,h=Object(r.useState)(!1),p=Object(c.a)(h,2),O=p[0],f=p[1],y=function(){return f(!O)},v=Object(r.useState)("Write Yourself:"),N=Object(c.a)(v,2),F=(N[0],N[1],function(t,a){e.setAboutMe(t,a)});return Object(u.jsxs)(s.a,{className:"".concat(m&&m),children:[Object(u.jsxs)(o.a,{tag:"h6",className:"d-flex justify-content-between align-items-center bg-primary",children:[Object(u.jsx)(n.a,{className:"m-0 text-white p-2",children:t}),a&&Object(u.jsxs)(l.a,{size:"sm",onClick:y,className:"btn-icon text-white",color:"link",children:["basic"===x&&Object(u.jsx)(g,{modal:O,toggle:y,title:"basic information",children:Object(u.jsx)(w,{setUserBasicInfo:F})}),"about"===x&&Object(u.jsx)(g,{modal:O,toggle:y,title:"About us",children:Object(u.jsx)(S,{setUserAboutMe:F})}),"videoLink"===x&&Object(u.jsx)(g,{modal:O,toggle:y,title:"Intro video",children:Object(u.jsx)(C,{})}),"gallery"===x&&Object(u.jsx)(g,{modal:O,toggle:y,title:"Intro video",children:Object(u.jsx)(k,{})}),Object(u.jsx)(j.a,{icon:b.c})]})]}),d&&Object(u.jsx)(i.a,{children:d})]})}},693:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(60),s=a(11),o=a(9),n=a.n(o),l=a(15),i=a(12),j=a(441),b=a(245),d=a(248),m=a(159),x=a(439),h=a(244),p=a(151),O=a(470),u=a(36),g=(a(118),a(33)),f=a.n(g),y=a(62),v=a(1),N=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{})((function(e){var t=e.serviceID,a=Object(c.useState)([]),o=Object(i.a)(a,2),u=o[0],g=o[1],N=Object(c.useState)([]),w=Object(i.a)(N,2),S=w[0],C=w[1],k=Object(c.useState)(""),F=Object(i.a)(k,2),E=F[0],I=F[1],T=Object(c.useState)(""),A=Object(i.a)(T,2),J=A[0],L=A[1],P=Object(c.useState)(""),q=Object(i.a)(P,2),D=q[0],U=q[1],M=y.a.getState(),W=Object(c.useState)(""),Y=Object(i.a)(W,2),B=Y[0],G=Y[1],_=Object(c.useState)({}),z=Object(i.a)(_,2),R=z[0],V=z[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(n.a.mark((function e(){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://www.togedoortestgo.site/graphql/services/".concat(t));case 3:a=e.sent,c=a.data,V(c),U(c.serviceImage),f.a.get("https://www.togedoortestgo.site/graphql/subcategories/".concat(c.subCategoryID)).then((function(e){I(e.data.name)})),f.a.get("https://www.togedoortestgo.site/graphql/categories/name/".concat(c.categoryName.split(" ").join("-"))).then((function(e){C(e.data.subcategories)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var H=function(e){var t=new FormData;J?(t.append("file",J),console.log(J),t.append("service",JSON.stringify(R)),f.a.patch(" https://www.togedoortestgo.site/graphql/services/editServiceWithFile",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))):(console.log(R),console.log("editServiceNoFile"),t.append("service",JSON.stringify(R)),f.a.patch(" https://www.togedoortestgo.site/graphql/services/editServiceNoFile",t).then((function(e){console.log(e),console.log("editServiceNoFile"),console.log(e.data)})).catch((function(e){console.log(e)})))},K=function(e){e.persist(),V(Object(s.a)(Object(s.a)({},R),{},Object(r.a)({},e.target.name,e.target.value)))};M.auth.token;Object(c.useEffect)((function(){var e="";f.a.get(" https://www.togedoortestgo.site/graphql/categories").then((function(t){e=t.data,g(e)}))}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://www.togedoortestgo.site/graphql/categories/name/".concat(B.split(" ").join("-")));case 2:t=e.sent,C(t.data.subcategories),V(Object(s.a)(Object(s.a)({},R),{},{subCategoryID:t.data.subcategories[0]._id}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[B]);return Object(v.jsx)(v.Fragment,{children:R?Object(v.jsx)(O.a,{title:"Edit project",className:"mb-5",children:Object(v.jsxs)(j.a,{onSubmit:H,children:[Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect1",children:"Project category"}),Object(v.jsx)(m.a,{type:"select",value:R.categoryName,name:"categoryName",id:"exampleSelect1",onChange:function(e){e.persist(),V(Object(s.a)(Object(s.a)({},R),{},Object(r.a)({},e.target.name,e.target.value))),G(e.target.value)},children:u.map((function(e,t){return Object(v.jsx)("option",{children:e.name})}))})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect1",children:"Sub category"}),Object(v.jsx)(m.a,{type:"select",value:E,name:"subCategoryID",id:"exampleSelect1",onChange:function(e){e.persist();var t=S.filter((function(t){return t.name===e.target.value}));V(Object(s.a)(Object(s.a)({},R),{},Object(r.a)({},e.target.name,t[0]._id))),I(e.target.value)},children:S.map((function(e,t){return Object(v.jsx)("option",{children:e.name},t)}))})]}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleEmail1",children:"Project title"}),Object(v.jsx)(m.a,{type:"text",value:R.JobTitle,name:"JobTitle",onChange:K})]}),Object(v.jsxs)(x.a,{form:!0,children:[Object(v.jsx)(h.a,{md:12,children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect3",children:"Price"}),Object(v.jsx)(m.a,{type:"number",value:R.Salary,name:"Salary",onChange:K})]})}),Object(v.jsxs)(h.a,{md:12,children:[Object(v.jsxs)(b.a,{children:[Object(v.jsx)(d.a,{for:"exampleSelect3",className:"form-label",children:"About this project"}),Object(v.jsx)("textarea",{type:"text",className:"form-control",name:"description",value:R.description,rows:"5",onChange:K})]}),Object(v.jsxs)(d.a,{for:"exampleSelect3",className:"form-label",children:[" ","PROJECT IMAGE:"," "]})]}),Object(v.jsx)(h.a,{md:12,children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(m.a,{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){L(e.target.files[0]),U(e.target.files[0].name),V(Object(s.a)(Object(s.a)({},R),{},Object(r.a)({},e.target.name,e.target.files[0].name)))}}),Object(v.jsx)(d.a,{for:"customFile",className:"custom-file-label",htmlFor:"customFile",children:D})]})}),Object(v.jsx)(h.a,{md:12,children:Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)(p.a,{type:"submit",color:"primary",href:"/candidate/manage",lassName:"outline-hover--effect ",onClick:H,children:"Edit project"})})})]})]})}):Object(v.jsx)("div",{children:"Loading..."})})}));t.default=function(e){var t=e.match.params.serviceID;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(N,{serviceID:t,history:history})})}}}]);
//# sourceMappingURL=38.865b8bf3.chunk.js.map