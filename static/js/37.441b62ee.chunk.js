(this["webpackJsonptogedoor-frontend"]=this["webpackJsonptogedoor-frontend"]||[]).push([[37],{470:function(e,t,a){"use strict";var r=a(12),c=a(0),s=a(442),o=a(452),n=a(476),l=a(151),i=a(453),j=a(19),b=a(160),d=a(685),m=a(656),x=a(441),h=a(657),u=a(658),p=a(8),O=a(1),g=function(e){var t=e.modal,a=e.toggle,r=e.children,c=e.to,s=e.title;return Object(O.jsxs)(d.a,{isOpen:t,toggle:a,className:"mt-13",children:[Object(O.jsxs)(m.a,{tag:"h6",toggle:a,className:"border-0",children:[Object(O.jsx)(j.a,{className:"text-primary mr-1",icon:b.c}),Object(O.jsx)("span",{className:"  text-dark",children:s})]}),Object(O.jsxs)(x.a,{children:[r&&Object(O.jsx)(h.a,{children:r}),Object(O.jsxs)(u.a,{className:"border-0 justify-content-start",children:[Object(O.jsx)(l.a,{color:"primary",onClick:a,children:"Save Updates"})," ",Object(O.jsx)(p.b,{to:c||"#",className:"text-primary",onClick:a,children:"cancel"})," "]})]})]})},f=a(245),y=a(248),N=a(244),w=a(159),v=function(e){var t=function(t){t.persist(),e.setUserBasicInfo(t.target.value,t.target.name)};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"First name :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"text",name:"firstName",id:"exampleEmail",placeholder:"Please insert your first name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"Last name :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"text",name:"lastName",id:"exampleEmail",placeholder:"Please insert your last name",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampetext",sm:3,children:"Job title :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"text",name:"jobTitle",id:"exampleEmail",placeholder:"Please insert your job title",onChange:t,className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]}),Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Location :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"text",name:"location",id:"exampleEmail",onChange:t,placeholder:"Please insert your location",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})]})},S=function(e){console.log(e);return Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Write Yourself:"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"textarea",name:"aboutMe",id:"exampleText",placeholder:"Write YourSelf",className:"border-top-0 border-left-0 border-right-0 boder-bottom",onChange:function(t){t.persist(),e.setUserAboutMe(t.target.value,t.target.name)}})})]})},C=function(){return Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleEmail",sm:3,children:"Video Link :"}),Object(O.jsx)(N.a,{sm:9,children:Object(O.jsx)(w.a,{type:"text",name:"videolink",id:"exampleEmail",placeholder:"Youtube Url Or Browse Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"})})]})},k=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 01:"}),Object(O.jsxs)(N.a,{sm:9,children:[Object(O.jsx)(w.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(w.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(O.jsx)(w.a,{type:"file",name:"file",id:"exampleFile"})]})]}),Object(O.jsxs)(f.a,{row:!0,children:[Object(O.jsx)(y.a,{for:"exampleText",sm:3,children:"Gallery 02:"}),Object(O.jsxs)(N.a,{sm:9,children:[Object(O.jsx)(w.a,{type:"text",name:"text",id:"exampleText",placeholder:"Title",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(w.a,{type:"text",name:"text",id:"exampleText",placeholder:"Link",className:"border-top-0 border-left-0 border-right-0 boder-bottom"}),Object(O.jsx)(y.a,{for:"exampleFile",className:"text-muted m-3",children:"Image"}),Object(O.jsx)(w.a,{type:"file",name:"file",id:"exampleFile"})]})]})]})};t.a=function(e){var t=e.title,a=e.action,d=e.children,m=e.className,x=e.modalName,h=Object(c.useState)(!1),u=Object(r.a)(h,2),p=u[0],f=u[1],y=function(){return f(!p)},N=Object(c.useState)("Write Yourself:"),w=Object(r.a)(N,2),T=(w[0],w[1],function(t,a){e.setAboutMe(t,a)});return Object(O.jsxs)(s.a,{className:"".concat(m&&m),children:[Object(O.jsxs)(o.a,{tag:"h6",className:"d-flex justify-content-between align-items-center bg-primary",children:[Object(O.jsx)(n.a,{className:"m-0 text-white p-2",children:t}),a&&Object(O.jsxs)(l.a,{size:"sm",onClick:y,className:"btn-icon text-white",color:"link",children:["basic"===x&&Object(O.jsx)(g,{modal:p,toggle:y,title:"basic information",children:Object(O.jsx)(v,{setUserBasicInfo:T})}),"about"===x&&Object(O.jsx)(g,{modal:p,toggle:y,title:"About us",children:Object(O.jsx)(S,{setUserAboutMe:T})}),"videoLink"===x&&Object(O.jsx)(g,{modal:p,toggle:y,title:"Intro video",children:Object(O.jsx)(C,{})}),"gallery"===x&&Object(O.jsx)(g,{modal:p,toggle:y,title:"Intro video",children:Object(O.jsx)(k,{})}),Object(O.jsx)(j.a,{icon:b.c})]})]}),d&&Object(O.jsx)(i.a,{children:d})]})}},692:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(60),s=a(9),o=a.n(s),n=a(11),l=a(15),i=a(12),j=a(441),b=a(245),d=a(248),m=a(159),x=a(439),h=a(244),u=a(151),p=a(470),O=a(36),g=a(118),f=a(33),y=a.n(f),N=a(62),w=a(1),v=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{})((function(e){var t=e.history,a=Object(r.useState)([]),s=Object(i.a)(a,2),O=s[0],f=s[1],v=Object(r.useState)([]),S=Object(i.a)(v,2),C=S[0],k=S[1],T=Object(r.useState)("Arts"),F=Object(i.a)(T,2),E=F[0],I=F[1],A=Object(r.useState)(""),P=Object(i.a)(A,2),J=P[0],L=P[1],D=Object(r.useState)(""),U=Object(i.a)(D,2),M=U[0],_=U[1],q=Object(g.b)(),Y=(q.form,q.handleSubmit,q.errors,N.a.getState()),B=Object(r.useState)({JobTitle:"",description:"",rating:[],Salary:"",serviceImage:null,subCategoryID:"",categoryName:"",avgRating:"new post"}),G=Object(i.a)(B,2),R=G[0],W=G[1];Y.auth.token;Object(r.useEffect)((function(){var e="";y.a.get(" https://www.togedoortestgo.site/graphql/categories").then(function(){var t=Object(l.a)(o.a.mark((function t(a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.data,console.log(a.data),f(e),console.log(e[0].name.split(" ").join("-")),console.log(e[0].subcategories[0]._id),t.next=7,y.a.get("https://www.togedoortestgo.site/graphql/categories/name/Agriculture & Natural Resources");case 7:r=t.sent,k(r.data.subcategories),W(Object(n.a)(Object(n.a)({},R),{},{categoryName:e[0].name.split(" ").join("-"),subCategoryID:e[0].subcategories[0]._id})),console.log(" useEffect 2");case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://www.togedoortestgo.site/graphql/categories/name/".concat(E.split(" ").join("-")));case 2:t=e.sent,k(t.data.subcategories),W(Object(n.a)(Object(n.a)({},R),{},{subCategoryID:t.data.subcategories[0]._id}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var z=function(e){e.persist(),W(Object(n.a)(Object(n.a)({},R),{},Object(c.a)({},e.target.name,e.target.value))),console.log(R)},V=function(){var e=Object(l.a)(o.a.mark((function e(a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onSubmitFile"),a.preventDefault(),r=new FormData,console.log(R),r.append("file",J),r.append("document",JSON.stringify(R)),r.append("user",JSON.stringify(Y)),c={headers:{"Content-Type":"multipart/form-data",Authorization:Y.auth.token}},y.a.post("https://www.togedoortestgo.site/graphql/services/uploadfile",r,c).then((function(e){console.log(e),t.push("/")})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(Y.auth.token),console.log(R),Object(w.jsx)(p.a,{title:"Post new project",className:"mb-5",children:Object(w.jsxs)(j.a,{onSubmit:V,children:[Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{for:"exampleSelect1",children:"Project category"}),Object(w.jsx)(m.a,{type:"select",name:"categoryName",id:"exampleSelect1",onChange:function(e){e.persist(),I(e.target.value),console.log(e.target.value),W(Object(n.a)(Object(n.a)({},R),{},{categoryName:e.target.value}))},children:O.map((function(e,t){return Object(w.jsx)("option",{value:e.name.split(" ").join("-"),children:e.name})}))})]}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{for:"exampleSelect1",children:"Sub category"}),Object(w.jsx)(m.a,{type:"select",name:"subCategoryID",id:"exampleSelect1",onChange:z,children:C.length&&C.map((function(e,t){return Object(w.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{for:"exampleEmail1",children:"Project title"}),Object(w.jsx)(m.a,{type:"text",name:"JobTitle",onChange:z})]}),Object(w.jsxs)(x.a,{form:!0,children:[Object(w.jsx)(h.a,{md:12,children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{for:"exampleSelect3",children:"Price"}),Object(w.jsx)(m.a,{type:"number",name:"Salary",onChange:z})]})}),Object(w.jsxs)(h.a,{md:12,children:[Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.a,{for:"exampleSelect3",className:"form-label",children:"About this project"}),Object(w.jsx)("textarea",{type:"text",className:"form-control",name:"description",rows:"5",onChange:z})]}),Object(w.jsxs)(d.a,{for:"exampleSelect3",className:"form-label",children:[" ","PROJECT IMAGE:"," "]})]}),Object(w.jsx)(h.a,{md:12,children:Object(w.jsxs)(b.a,{onSubmit:V,children:[Object(w.jsx)(m.a,{type:"file",className:"custom-file-input",id:"customFile",onChange:function(e){L(e.target.files[0]),_(e.target.files[0].name)}}),Object(w.jsx)(d.a,{for:"customFile",className:"custom-file-label",htmlFor:"customFile",children:M})]})}),Object(w.jsx)(h.a,{md:12,children:Object(w.jsx)("div",{className:"text-center",children:Object(w.jsx)(u.a,{type:"submit",color:"primary",className:"outline-hover--effect ",children:"Post new project"})})})]})]})})}));t.default=function(e){var t=e.history;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(v,{history:t})})}}}]);
//# sourceMappingURL=37.441b62ee.chunk.js.map